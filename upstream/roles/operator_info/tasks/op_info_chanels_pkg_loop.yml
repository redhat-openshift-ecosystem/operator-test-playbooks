---

- name: "Loop over all versions"
  block:
    # - pause:

    - name: "Message"
      debug:
        msg: "Adding {{ oi_pkg_channel_ver_current }} to channel"

    - name: "Sets 'oicpl_current_channel'"
      set_fact:
        oicpl_current_channel: "{{ (oicpl_current_channel| default([])) + [ oi_pkg_channel_ver_current ] }}"

    - name: "Setting 'oi_pkg_channel_ver_current'"
      set_fact:
        oi_pkg_channel_ver_current: "{{ io_versions_manifests[oi_pkg_channel_ver_current].replaces }}"
    
    - name: "oi_pkg_channel_ver_current after"
      debug:
        var: oicpl_current_channel

    - name: "oi_pkg_channel_ver_current after"
      debug:
        var: oi_pkg_channel_ver_current

  always:      

    - include_tasks: op_info_chanels_pkg_loop.yml
      when: oi_pkg_channel_ver_current|length > 0
